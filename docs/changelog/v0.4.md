# v0.4.x - Sceneç³»ç»Ÿé‡æ„ä¸ç®€åŒ–

æœ¬ç‰ˆæœ¬ä¸“æ³¨äºSceneç³»ç»Ÿçš„é‡æ„ä¸ç®€åŒ–ï¼Œå®ç°äº†å…¨é¢çš„Sceneç®¡ç†å’Œç®€åŒ–çš„APIè®¾è®¡ã€‚

---

## [2024-12-19] - v0.4.0 - Sceneç³»ç»Ÿé‡æ„ä¸ç®€åŒ–

### ğŸš€ æ–°å¢åŠŸèƒ½
- **å…¨é¢Sceneç®¡ç†**: æ‰€æœ‰Entityéƒ½å¿…é¡»å­˜åœ¨äºSceneä¸­ï¼ŒåŒ…æ‹¬Cameraç­‰éGameObjectå®ä½“
- **ç®€åŒ–APIè®¾è®¡**: ç§»é™¤Unityé£æ ¼åˆ«åï¼Œæä¾›æ›´ç›´æ¥çš„æ¥å£è®¾è®¡
- **è‡ªåŠ¨Entityç®¡ç†**: ECSç³»ç»Ÿè‡ªåŠ¨å°†æ‰€æœ‰æ–°åˆ›å»ºçš„Entityæ·»åŠ åˆ°æ´»åŠ¨åœºæ™¯
- **Cameraè‡ªåŠ¨åˆå§‹åŒ–**: ä¿®å¤Cameraåˆ›å»ºæ—¶çš„å¾ªç¯ä¾èµ–é—®é¢˜ï¼Œè‡ªåŠ¨æ·»åŠ CameraSettingç»„ä»¶

### ğŸ”§ æ”¹è¿›ä¼˜åŒ–
- **é‡æ„ECSManager**: ç§»é™¤å…¼å®¹æ€§ä»£ç ï¼Œæ‰€æœ‰EntityæŸ¥è¯¢éƒ½é€šè¿‡Sceneè¿›è¡Œ
- **ç®€åŒ–Sceneç±»**: ç§»é™¤Unityé£æ ¼APIï¼ˆFindObjectOfTypeç­‰ï¼‰ï¼Œä½¿ç”¨æ›´ç›´æ¥çš„æ–¹æ³•å
- **ç»Ÿä¸€Entityç®¡ç†**: ä¸åŒºåˆ†GameObjectå’Œå…¶ä»–Entityï¼Œç»Ÿä¸€åœ¨Sceneä¸­ç®¡ç†
- **æ”¹è¿›é”™è¯¯å¤„ç†**: ä¿®å¤è¾“å…¥ç³»ç»Ÿä¸­çš„KeyActionæšä¸¾é”™è¯¯ï¼ˆPRESS -> PRESSEDï¼‰

### ğŸ› é—®é¢˜ä¿®å¤
- ä¿®å¤Cameraåˆå§‹åŒ–æ—¶çš„å¾ªç¯ä¾èµ–é—®é¢˜
- ä¿®æ­£main.pyä¸­ç›¸æœºå±æ€§è®¿é—®é”™è¯¯ï¼ˆforward -> frontï¼‰
- è§£å†³Entityåˆ›å»ºæ—¶çš„Sceneå½’å±é—®é¢˜
- ä¿®å¤è¾“å…¥äº‹ä»¶çš„æšä¸¾å€¼é”™è¯¯

### ğŸ“ æ–‡ä»¶å˜æ›´

#### ä¸»è¦ä¿®æ”¹:
- `core/ecs.py` - é‡æ„ä¸ºå®Œå…¨åŸºäºSceneçš„Entityç®¡ç†ï¼Œç§»é™¤å…¼å®¹æ€§ä»£ç 
- `core/scene.py` - ç®€åŒ–APIè®¾è®¡ï¼Œç§»é™¤Unityé£æ ¼åˆ«åï¼Œç®¡ç†æ‰€æœ‰ç±»å‹çš„Entity
- `Entity/camera.py` - é‡æ„é¿å…å¾ªç¯ä¾èµ–ï¼Œå»¶è¿Ÿç»„ä»¶åˆå§‹åŒ–
- `main.py` - ä¿®å¤ç›¸æœºæ§åˆ¶ä»£ç çš„å±æ€§è®¿é—®é”™è¯¯
- `tests/test_scene_system.py` - æ›´æ–°æµ‹è¯•ä»¥é€‚åº”ç®€åŒ–çš„API
- `.cursorrules` - æ›´æ–°å¼€å‘è§„åˆ™ç§»é™¤Unityé£æ ¼è¦æ±‚

#### æ¶æ„å˜æ›´:
- ç§»é™¤`entities`åˆ—è¡¨å’Œ`component_to_entity`æ˜ å°„
- æ‰€æœ‰EntityæŸ¥è¯¢éƒ½é€šè¿‡Sceneè¿›è¡Œ
- Cameraç­‰ç‰¹æ®ŠEntityä¹Ÿçº³å…¥Sceneç®¡ç†
- ç®€åŒ–ç»„ä»¶æŸ¥è¯¢é€»è¾‘

### ğŸ¯ æŠ€æœ¯äº®ç‚¹
- **å½»åº•çš„SceneåŒ–**: ä¸å†æœ‰Sceneå¤–çš„Entityï¼Œæ‰€æœ‰å®ä½“éƒ½æœ‰æ˜ç¡®çš„å½’å±
- **APIä¸€è‡´æ€§**: ç§»é™¤é‡å¤çš„Unityé£æ ¼APIï¼Œä¿æŒæ¥å£ç®€æ´
- **æ•™è‚²å‹å¥½**: æ›´æ¸…æ™°çš„æ¶æ„è®¾è®¡ï¼Œä¾¿äºç†è§£Sceneç®¡ç†æ¦‚å¿µ
- **æ— å¾ªç¯ä¾èµ–**: è§£å†³äº†Cameraç­‰ç‰¹æ®ŠEntityçš„åˆå§‹åŒ–é—®é¢˜

### ğŸ§ª æµ‹è¯•è¦†ç›–
- éªŒè¯æ‰€æœ‰Entityéƒ½åœ¨Sceneä¸­ç®¡ç†
- æµ‹è¯•Cameraç­‰ç‰¹æ®ŠEntityçš„æ­£ç¡®åˆå§‹åŒ–
- ç¡®è®¤ç®€åŒ–APIçš„åŠŸèƒ½å®Œæ•´æ€§
- éªŒè¯ECSä¸Sceneçš„æ— ç¼é›†æˆ

### ğŸ”„ ç ´åæ€§å˜æ›´
- **APIå˜æ›´**: ç§»é™¤Unityé£æ ¼çš„åˆ«åæ–¹æ³•
- **æ¶æ„å˜æ›´**: æ‰€æœ‰Entityå¿…é¡»åœ¨Sceneä¸­ï¼Œä¸å†æ”¯æŒç‹¬ç«‹Entity
- **å±æ€§é‡å‘½å**: ç»Ÿä¸€Cameraç›¸å…³å±æ€§å‘½åï¼ˆforward -> frontç­‰ï¼‰

### ğŸ“‹ è¿ç§»æŒ‡å—
```python
# æ—§æ–¹å¼ (ä¸å†æ”¯æŒ)
ecs.entities.append(entity)
scene.FindObjectOfType(Mesh)

# æ–°æ–¹å¼
ecs.create_entity(EntityType)  # è‡ªåŠ¨æ·»åŠ åˆ°Scene
scene.find_entity_with_component(Mesh)
``` 